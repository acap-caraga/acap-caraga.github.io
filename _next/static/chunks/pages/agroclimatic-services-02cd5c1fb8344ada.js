(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6603],{67741:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/agroclimatic-services",function(){return n(78613)}])},11829:function(e,t,n){"use strict";var r=n(85893),i=n(55113);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.Z=function(e){return(0,r.jsx)(i.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}({},e,{elevation:15}))}},37634:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(85893),i=n(25675),a=n(87357),o=n(15861),l=n(26660),s={container:{textAlign:"center",minHeight:"200px",width:"100%",border:"4px solid rgba(0, 0, 0, 0.11)",borderRadius:function(e){return e.spacing(2)},color:function(e){return e.palette.text.secondary},borderStyle:"dashed",padding:function(e){return e.spacing(2)},marginTop:function(e){return e.spacing(4)}}};var c=function(e){var t=e.message,n=void 0===t?"Failed to load data":t,c=e.style,u=void 0===c?{}:c;return(0,r.jsxs)(a.Z,{sx:s.container,style:u,children:[(0,r.jsx)(i.default,{unoptimized:!0,src:(0,l.assetPrefixer)("images/icons/empty-state-light.svg"),height:120,width:120,loader:l.imageLoader,alt:"Empty data"}),(0,r.jsx)(o.Z,{variant:"subtitle1",children:n})]})}},11427:function(e,t,n){"use strict";var r=n(85893),i=n(55113);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=(0,n(11496).ZP)((function(e){return(0,r.jsx)(i.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}({},e))}))((function(e){var t=e.theme;return{padding:t.spacing(3),borderRadius:t.spacing(1),boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}));t.Z=o},78613:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return oe},default:function(){return le}});var r=n(34051),i=n.n(r),a=n(85893),o=n(67294),l=n(16327),s=n(11427),c=n(47426),u=n(59111),d=n(25675),p=n(45697),f=n.n(p),m=n(61903),v=n(76295),g=n(87357),h=n(11057),y=n(56863),b=n(67720),x=n(15861),_=n(86886),j=n(11829),w=n(26613),O={container:{display:"flex",flexDirection:"column"},cardContainer:{display:{xs:"none",md:"grid"},"& h6":{fontSize:"1.2rem",lineHeight:"1.6rem"},"& h6:nth-child(2)":{fontWeight:"bold"},placeContent:"center",width:"100%",maxWidth:"430px",minHeight:"85px",border:"2px solid #cc00cc",borderRadius:"40px",padding:function(e){return e.spacing(2)},margin:"auto",marginBottom:"6px",marginTop:"6px",textAlign:"center",boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px !important"},arrowIcon:{margin:"auto",color:"#cc00cc",display:{xs:"none",md:"block"}}};var S=function(e){var t=e.info,n=e.show,r=void 0===n||n,i=e.borderColor,o=void 0===i?"#cc00cc":i;return(0,a.jsxs)(g.Z,{sx:O.container,children:[(0,a.jsxs)(g.Z,{sx:O.cardContainer,style:{borderColor:o},children:[(0,a.jsx)(x.Z,{variant:"subtitle1",children:"You have selected ".concat("cropstage"===t.from?"crop stage":t.from)}),(0,a.jsx)(x.Z,{variant:"subtitle1",children:t.label})]}),r&&(0,a.jsx)(w.Z,{size:24,sx:O.arrowIcon,style:{color:o}})]})},Z=n(24478),C=n(26660),P=n(41664),k={container:{marginTop:function(e){return e.spacing(3)},minHeight:"400px"},controls:{marginTop:function(e){return e.spacing(6)}},selectContainer:{borderRight:{sm:"none",md:"1px solid gray"}},recsContainer:{marginTop:"-24px",paddingLeft:{sm:"none",md:"54px !important"},"& .toggleButton":{float:"right",width:"80px"}},autocomplete:{maxWidth:{xs:"100%",md:"300px"},paddingTop:function(e){return e.spacing(2)}},conditionLegend:{maxWidth:{sm:"100%"},margin:{md:"24px"},marginBottom:"32px",padding:function(e){return e.spacing(1)},borderRadius:"4px",border:"1px solid grey",textAlign:"center"},welcome:{display:"grid",placeContent:"center",marginTop:function(e){return e.spacing(10)},textAlign:"center","& h5":{marginTop:function(e){return e.spacing(2)}}}};function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){E(e,t,n[t])}))}return e}var R=["sel_province","sel_municipality","sel_crop","sel_stage","sel_activity"];function D(e){var t,n,r,i,l=(0,o.useState)(!1),s=l[0],c=l[1],u=e.sel_options,p=e.climateRisk,f=e.seasonalMonths,w=e.optsprovinces,O=e.optsmunicipalities,E=e.optscrops,D=e.optsmonths,T=e.optscropstages,I=e.optsactivities,L=e.onSelectItemChange,W=e.onResetClick,M=e.recommendations,N=e.loading;(0,o.useEffect)((function(){null===u.sel_activity&&!0===s&&c(!1)}),[u.sel_activity,s]);var F=function(){var e="Loading...";return w.length>0&&(e=null===u.sel_province?"Select a province":"Province"),e};return(0,a.jsxs)(g.Z,{sx:{minHeight:"75vh"},id:"contents-seasonal-recommendations",children:[(0,a.jsx)(x.Z,{variant:"h4",children:"Seasonal Recommendations"}),(0,a.jsx)(x.Z,{variant:"subtitle1",children:"Commodity Recommendations"}),(0,a.jsxs)(_.ZP,{container:!0,spacing:2,sx:k.container,children:[(0,a.jsxs)(_.ZP,{item:!0,xs:12,md:4,sx:k.selectContainer,children:[(0,a.jsxs)(g.Z,{sx:{paddingRight:function(e){return e.spacing(2)},wdith:"100%"},children:[(0,a.jsx)(v.Z,{disablePortal:!0,id:"province",value:u.sel_province,disabled:0===w.length||N,options:w,sx:k.autocomplete,PaperComponent:j.Z,renderInput:function(e){return(0,a.jsx)(m.Z,A({},e,{label:F()}))},isOptionEqualToValue:function(e,t){return e.label===t},onChange:function(e,t){return L(e,A({},t,{from:"province"}))}}),(0,a.jsx)(v.Z,{disablePortal:!0,id:"municipality",value:u.sel_municipality,disabled:0===O.length||N,options:O,sx:k.autocomplete,PaperComponent:j.Z,renderInput:function(e){return(0,a.jsx)(m.Z,A({},e,{label:null===u.sel_municipality?"Select a municipality":"Municipality"}))},isOptionEqualToValue:function(e,t){return e.label===t},getOptionDisabled:function(e){return e.disabled||void 0!==e.iscalendar},onChange:function(e,t){return L(e,A({},t,{from:"municipality"}))}}),u.sel_municipality&&(0,a.jsxs)(g.Z,{sx:{mt:2},children:[(0,a.jsx)(x.Z,{align:"center",variant:"body1",children:(0,a.jsx)("strong",{children:"Seasonal Forecast Duration:"})}),(0,a.jsxs)(x.Z,{align:"center",variant:"body1",children:[null===(t=f[0])||void 0===t?void 0:t.label," to ",null===(n=f[5])||void 0===n?void 0:n.label]})]}),(0,a.jsx)(v.Z,{disablePortal:!0,id:"crop",value:u.sel_crop,disabled:0===E.length||N||null===u.sel_municipality,options:E,sx:k.autocomplete,PaperComponent:j.Z,renderInput:function(e){return(0,a.jsx)(m.Z,A({},e,{label:null===u.sel_crop?"Select a commodity":"Commodity"}))},isOptionEqualToValue:function(e,t){return e.label===t},getOptionDisabled:function(e){return e.disabled},onChange:function(e,t){return L(e,A({},t,{from:"crop"}))}}),0===T.length&&null!==u.sel_crop&&!N&&(0,a.jsxs)("div",{children:[(0,a.jsx)(x.Z,{variant:"caption",color:"orange",children:(0,a.jsxs)("strong",{children:["No commodity stages for this seasonal range for ",u.sel_crop,"."]})}),(0,a.jsx)("br",{}),(0,a.jsxs)(x.Z,{variant:"caption",children:["See\xa0",(0,a.jsx)(P.default,{href:"/agricultural-calendar",passHref:!0,children:(0,a.jsx)("a",{style:{color:"orange",fontWeight:600},target:"_blank",children:"Agricultural Calendar"})}),"\xa0for reference."]})]}),(0,a.jsx)(v.Z,{disablePortal:!0,id:"cropstage",value:u.sel_stage,disabled:0===T.length||N,options:T,sx:k.autocomplete,PaperComponent:j.Z,renderInput:function(e){return(0,a.jsx)(m.Z,A({},e,{label:null===u.sel_stage?"Select a commodity stage":"Commodity Stage"}))},isOptionEqualToValue:function(e,t){return e.label===t.label},getOptionDisabled:function(e){return e.disabled},onChange:function(e,t){return L(e,A({},t,{from:"cropstage"}))}}),(0,a.jsx)(v.Z,{disablePortal:!0,id:"activity",value:u.sel_activity,disabled:0===I.length||N,options:I,sx:k.autocomplete,PaperComponent:j.Z,renderInput:function(e){return(0,a.jsx)(m.Z,A({},e,{label:null===u.sel_activity?"Select an activity":"Activity"}))},isOptionEqualToValue:function(e,t){return e.label===t},onChange:function(e,t){L(e,A({},t,{from:"activity"})),c(!1)}}),(0,a.jsx)("div",{children:""!==u.error?(0,a.jsx)("div",{style:{color:"red",fontSize:"12px",marginTop:"8px"},children:u.error}):(0,a.jsx)("div",{children:"\xa0"})}),(0,a.jsxs)(y.Z,{variant:"text",disableElevation:!0,sx:{width:"300px",margin:"auto",marginTop:"16px"},children:[(0,a.jsx)(h.Z,{size:"medium",disabled:N,onClick:W,children:"Clear"}),(0,a.jsx)(h.Z,{size:"medium",variant:"contained",onClick:function(){return c((function(e){return!e}))},disabled:null===u.sel_activity||s,children:"Finish"})]})]}),(0,a.jsx)("br",{}),(0,a.jsx)(b.Z,{}),(0,a.jsx)("br",{}),""!==p&&D.length>0&&(0,a.jsxs)(g.Z,{sx:k.conditionLegend,children:[(0,a.jsxs)(x.Z,{variant:"body2",children:["Climate Risk for the season ",(0,a.jsx)("strong",{children:null===(r=D[0])||void 0===r?void 0:r.label})," to ",(0,a.jsx)("strong",{children:null===(i=D[5])||void 0===i?void 0:i.label}),":"]}),(0,a.jsx)("div",{children:p})]})]}),(0,a.jsx)(_.ZP,{item:!0,xs:12,md:8,sx:k.recsContainer,children:null!==u.sel_crop&&null!==u.sel_activity&&s?(0,a.jsx)(Z.Z,{impactOutlookOnly:!0,title:u.sel_crop,recommendations:M}):Object.values(u).filter((function(e){return e})).length>1?(0,a.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:R.map((function(e,t){var n,r,i={from:e.slice(e.indexOf("_")+1),label:["sel_stage"].includes(e)?null!==(r=null===(n=u[e])||void 0===n?void 0:n.label)&&void 0!==r?r:"":u[e]};return null!==u[e]&&void 0!==u[e]?(0,a.jsx)(S,{info:i,show:t<R.length-1},"card-opt-".concat(t)):(0,a.jsx)("div",{},"card-opt-".concat(t))}))}):(0,a.jsxs)(g.Z,{sx:k.welcome,children:[(0,a.jsx)(d.default,{unoptimized:!0,src:(0,C.assetPrefixer)("images/icons/think.gif"),height:120,width:120,loader:C.imageLoader,alt:"Empty data"}),(0,a.jsx)(x.Z,{variant:"h5",children:"Welcome to the Commodity Recommendations Page"}),(0,a.jsx)(x.Z,{variant:"p",children:"Please select a province to start."})]})})]})]})}D.propTypes={sel_options:f().object,optsprovinces:f().array,optsmunicipalities:f().array,optscrops:f().array,optsmonths:f().array,optscropstages:f().array,optsactivities:f().array,seasonalMonths:f().array,recommendations:f().array,loading:f().bool,onSelectItemChange:f().func,onResetClick:f().func};var T=D,I=n(30560),L=n(23766),W=n(59390),M=n(38885),N=n(22856),F=n(87682),z=n(52955);function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){V(e,t,n[t])}))}return e}var H={sel_province:null,sel_municipality:null,sel_crop:null,sel_stage:null,sel_activity:null,sel_condition:{id:0,from:"weather_condition",label:c.MW.WAY_BELOW_NORMAL.label},loading:!1,error:""};var B=function(e){var t,n,r=e.provinces,i=void 0===r?[]:r,l=(0,o.useState)(H),s=l[0],d=l[1],p=(0,o.useState)([]),f=p[0],m=p[1],v=(0,o.useState)({}),g=v[0],h=v[1],y=(0,o.useState)([]),b=y[0],x=y[1],_=(0,o.useState)([]),j=_[0],w=_[1],O=(0,o.useState)([]),S=O[0],Z=O[1],C=(0,o.useState)(!0),P=C[0],k=C[1],E=(0,o.useRef)(!1),A=(0,M.Z)().cropList.map((function(e,t){return{disabled:!1,label:e,id:t}})),R=(0,F.m$)(I.M.WEATHER_FORECASTS,"caraga",I.M.SUB_SEASONAL,"name"),D=R.documents,V=R.loading,B=(0,W.Z)(s.sel_province,s.sel_crop),U=B.cropcalendar,J=B.cropStages,X=B.loading,Y=(0,N.Z)(g.code,null!==(n=null===(t=s.sel_stage)||void 0===t?void 0:t.code)&&void 0!==n?n:null,s.sel_crop,"seasonal"),$=Y.recommendations,G=Y.farmoperations,K=Y.loading,Q=(0,L.Z)(s.sel_province,i);return(0,o.useEffect)((function(){if(0!==U.length&&!P&&0!==f.length&&null!==s.sel_municipality){var e=U.data1.find((function(e){return e.municipality===s.sel_municipality&&e.crop===s.sel_crop})),t=U.data2.find((function(e){return e.municipality===s.sel_municipality&&e.crop===s.sel_crop})),n=[];f.forEach((function(r){if(e){var i=e[r.id].split(",");"none"===i[0]||n.includes(i[0])||n.push(i[0]),"none"===i[1]||n.includes(i[1])||n.push(i[1]);var a=t[r.id].split(",");"none"===a[0]||n.includes(a[0])||n.push(a[0]),"none"===a[1]||n.includes(a[1])||n.push(a[1])}}));var r=n.map((function(e,t){return{id:t,label:J[e].label,code:e}}));Z(r)}}),[U,P,s.sel_crop,s.sel_municipality,f,J]),(0,o.useEffect)((function(){return E.current=!0,function(){E.current=!1}}),[]),(0,o.useEffect)((function(){if(i.length>0&&D.length>0&&!V){w((0,u.m)(i));var e=D[0].mos.reduce((function(e,t){return e.push({id:c.re[t.toUpperCase()].code,label:c.re[t.toUpperCase()].format,disabled:!1}),e}),[]);m(e)}}),[i,D,V]),(0,o.useEffect)((function(){k(V||K||X)}),[V,K,X]),(0,a.jsx)(T,{climateRisk:g.label,optsprovinces:j,optsmunicipalities:Q,optscrops:A,optsmonths:f,optscropstages:S,optsactivities:G,sel_options:s,recommendations:b,loading:P,seasonalMonths:f,onSelectItemChange:function(e,t){var n=t.from,r=t.label;if(b.length>0&&x([]),Object.keys(t).includes("id"))switch(n){case"province":Z([]);var i=D.find((function(e){return e.name===r}));h((0,z.Z)(i.months,"seasonal")),d(q({},H,{sel_province:r}));break;case"municipality":Z([]),d(q({},s,{sel_municipality:r,sel_crop:null,sel_stage:null,sel_activity:null}));break;case"crop":d(q({},s,{sel_crop:r,sel_stage:null,sel_activity:null}));break;case"cropstage":d(q({},s,{sel_stage:t,sel_activity:null}));break;case"activity":var a=$.filter((function(e){return e.crop_stage===s.sel_stage.code&&e.farming_activity===r}));x(a),d(q({},s,{sel_activity:r}))}else"province"===n?(d(H),Z([])):"municipality"===n?(d(q({},s,{sel_municipality:null,sel_crop:null,sel_stage:null,sel_activity:null})),Z([])):"crop"===n?(d(q({},s,{sel_crop:null,sel_stage:null,sel_activity:null})),Z([])):"cropstage"===n?d(q({},s,{sel_stage:null,sel_activity:null})):"activity"===n&&d(q({},s,{sel_activity:null}))},onResetClick:function(){d(H),Z([]),x([])}})};function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){U(e,t,n[t])}))}return e}var X=["sel_province","sel_municipality","sel_day","sel_crop","sel_month","sel_stage","sel_activity"];function Y(e){var t,n,r=(0,o.useState)(!1),i=r[0],l=r[1],s=e.sel_options,u=e.loading,p=e.recommendations,f=e.weathertoday,w=e.warning,O=e.climateRisk,E=e.optsprovinces,A=e.optsmunicipalities,R=e.optsdays,D=e.optscrops,T=e.optscropstages,I=e.optsactivities,L=e.onSelectItemChange,W=e.onResetClick;(0,o.useEffect)((function(){null===s.sel_activity&&!0===i&&l(!1)}),[s.sel_activity,i]);var M=function(){var e="Loading...";return E.length>0&&(e=null===s.sel_province?"Select a province":"Province"),e};return(0,a.jsxs)(g.Z,{sx:{minHeight:"75vh"},id:"contents-tenday-recommendations",children:[(0,a.jsx)(x.Z,{variant:"h4",children:"10-Day Farm Weather Outlook and Advisory Recommendations"}),(0,a.jsx)(x.Z,{variant:"subtitle1",children:"Commodity Recommendations"}),(0,a.jsxs)(_.ZP,{container:!0,spacing:2,sx:k.container,children:[(0,a.jsxs)(_.ZP,{item:!0,xs:12,md:4,sx:k.selectContainer,children:[(0,a.jsxs)(g.Z,{sx:{minWidth:"100%",paddingRight:function(e){return e.spacing(2)}},children:[(0,a.jsx)(v.Z,{disablePortal:!0,id:"province",value:s.sel_province,disabled:0===E.length||u,options:E,sx:k.autocomplete,PaperComponent:j.Z,renderInput:function(e){return(0,a.jsx)(m.Z,J({},e,{label:M()}))},isOptionEqualToValue:function(e,t){return e.label===t},onChange:function(e,t){return L(e,J({},t,{from:"province"}))}}),(0,a.jsx)(v.Z,{disablePortal:!0,id:"municipality",value:s.sel_municipality,disabled:0===A.length||u,options:A,sx:k.autocomplete,PaperComponent:j.Z,renderInput:function(e){return(0,a.jsx)(m.Z,J({},e,{label:null===s.sel_municipality?"Select a municipality":"Municipality"}))},isOptionEqualToValue:function(e,t){return e.label===t},getOptionDisabled:function(e){return e.disabled||void 0!==e.iscalendar},onChange:function(e,t){return L(e,J({},t,{from:"municipality"}))}}),s.sel_municipality&&(0,a.jsxs)(g.Z,{sx:{mt:2},children:[(0,a.jsx)(x.Z,{align:"center",variant:"body1",children:(0,a.jsx)("strong",{children:"Forecast Duration:"})}),(0,a.jsxs)(x.Z,{align:"center",variant:"body1",children:[null===(t=R[0])||void 0===t?void 0:t.label," to ",null===(n=R[9])||void 0===n?void 0:n.label]})]}),(0,a.jsx)(v.Z,{disablePortal:!0,id:"crop",value:s.sel_crop,disabled:0===D.length||null===s.sel_municipality||u,options:D,sx:k.autocomplete,PaperComponent:j.Z,renderInput:function(e){return(0,a.jsx)(m.Z,J({},e,{label:null===s.sel_crop?"Select a commodity":"Commodity"}))},isOptionEqualToValue:function(e,t){return e.label===t},getOptionDisabled:function(e){return e.disabled},onChange:function(e,t){return L(e,J({},t,{from:"crop"}))}}),(0,a.jsx)(v.Z,{disablePortal:!0,id:"cropstage",value:s.sel_stage,disabled:0===T.length||u,options:T,sx:k.autocomplete,PaperComponent:j.Z,renderInput:function(e){return(0,a.jsx)(m.Z,J({},e,{label:null===s.sel_stage?"Select a commodity stage":"Commodity Stage"}))},isOptionEqualToValue:function(e,t){return e.label===t.label},getOptionDisabled:function(e){return e.disabled},onChange:function(e,t){return L(e,J({},t,{from:"cropstage"}))}}),0===T.length&&null!==s.sel_crop&&(0,a.jsxs)("div",{children:[(0,a.jsx)(x.Z,{variant:"caption",color:"orange",children:(0,a.jsxs)("strong",{children:["No commodity stages for this ten day range for ",s.sel_crop,"."]})}),(0,a.jsx)("br",{}),(0,a.jsxs)(x.Z,{variant:"caption",children:["See\xa0",(0,a.jsx)(P.default,{href:"/agricultural-calendar",passHref:!0,children:(0,a.jsx)("a",{style:{color:"orange",fontWeight:600},target:"_blank",children:"Agricultural Calendar"})}),"\xa0for reference."]})]}),(0,a.jsx)(v.Z,{disablePortal:!0,id:"activity",value:s.sel_activity,disabled:0===I.length||u,options:I,sx:k.autocomplete,PaperComponent:j.Z,renderInput:function(e){return(0,a.jsx)(m.Z,J({},e,{label:null===s.sel_activity?"Select an activity":"Activity"}))},isOptionEqualToValue:function(e,t){return e.label===t},onChange:function(e,t){L(e,J({},t,{from:"activity"})),l(!1)}}),(0,a.jsx)("div",{children:""!==s.error||""!==w?(0,a.jsx)("div",{style:{color:"red",fontSize:"12px",marginTop:"8px"},children:s.error||w}):(0,a.jsx)("div",{children:"\xa0"})}),(0,a.jsxs)(y.Z,{variant:"text",disableElevation:!0,sx:{width:"300px",margin:"auto",marginTop:"16px"},children:[(0,a.jsx)(h.Z,{size:"medium",onClick:W,children:"Clear"}),(0,a.jsx)(h.Z,{size:"medium",variant:"contained",onClick:function(){return l((function(e){return!e}))},disabled:null===s.sel_activity||i,children:"Finish"})]})]}),(0,a.jsx)("br",{}),(0,a.jsx)(b.Z,{}),(0,a.jsx)("br",{}),null!==f&&(0,a.jsxs)(g.Z,{sx:k.conditionLegend,style:{backgroundColor:c.tN[f.code],color:[c.MW.ABOVE_NORMAL.label,c.MW.WAY_BELOW_NORMAL.label].includes(f.code)?"#fff":"#000"},children:[(0,a.jsx)(x.Z,{variant:"subtitle2",children:"Rainfall Intensity for the Day"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{children:f.label_full}),(0,a.jsx)("br",{}),(0,a.jsx)("span",{children:f.rainfall})]})]}),""!==O&&(0,a.jsxs)(g.Z,{sx:k.conditionLegend,children:[(0,a.jsx)(x.Z,{variant:"subtitle2",children:"Climate Risk:"}),(0,a.jsx)("div",{children:O})]})]}),(0,a.jsx)(_.ZP,{item:!0,xs:12,md:8,sx:k.recsContainer,children:null!==s.sel_crop&&null!==s.sel_activity&&i?(0,a.jsx)(Z.Z,{impactOutlookOnly:!0,title:s.sel_crop,recommendations:p}):Object.values(s).filter((function(e){return e})).length>1?(0,a.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:X.map((function(e,t){var n,r,i={from:e.slice(e.indexOf("_")+1),label:["sel_day","sel_stage"].includes(e)?null!==(r=null===(n=s[e])||void 0===n?void 0:n.label)&&void 0!==r?r:"":s[e]};return null!==s[e]&&void 0!==s[e]?(0,a.jsx)(S,{info:i,show:t<X.length-1,borderColor:"blue"},"card-opt-".concat(t)):(0,a.jsx)("div",{},"card-opt-".concat(t))}))}):(0,a.jsxs)(g.Z,{sx:k.welcome,children:[(0,a.jsx)(d.default,{unoptimized:!0,src:(0,C.assetPrefixer)("images/icons/think.gif"),height:120,width:120,loader:C.imageLoader,alt:"Empty data"}),(0,a.jsx)(x.Z,{variant:"h5",children:"Welcome to the Commodity Recommendations Page"}),(0,a.jsx)(x.Z,{variant:"p",children:"Please select a province to start."})]})})]})]})}Y.propTypes={sel_options:f().object,optsprovinces:f().array,optsmunicipalities:f().array,optscrops:f().array,optsdays:f().array,optscropstages:f().array,optsactivities:f().array,recommendations:f().array,weathertoday:f().object,onSelectItemChange:f().func,onClickDateSelector:f().func,onResetClick:f().func};var $=Y,G=n(94640),K=n(77715);function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Q(e,t,n[t])}))}return e}var te={sel_province:null,sel_municipality:null,sel_crop:null,sel_stage:null,sel_activity:null,sel_month:null,sel_day:null,sel_condition:{id:0,from:"weather_condition",label:null,date:(new Date).toDateString()},loading:!1,error:"",warning:""};var ne=function(e){var t,n,r=e.provinces,i=void 0===r?[]:r,l=(0,o.useState)(te),s=l[0],c=l[1],d=(0,o.useState)({}),p=d[0],f=d[1],m=(0,o.useState)([]),v=m[0],g=m[1],h=(0,o.useState)(null),y=h[0],b=h[1],x=(0,o.useState)([]),_=x[0],j=x[1],w=(0,o.useState)([]),O=w[0],S=w[1],Z=(0,o.useState)(!0),C=Z[0],P=Z[1],k=(0,o.useRef)(!1),E=(0,M.Z)().cropList.map((function(e,t){return{disabled:!1,label:e,id:t}})),A=(0,L.Z)(s.sel_province,i),R=(0,N.Z)(p.code,null!==(n=null===(t=s.sel_stage)||void 0===t?void 0:t.code)&&void 0!==n?n:null,s.sel_crop,"tenday"),D=R.recommendations,T=R.farmoperations,I=R.loading,F=(0,W.Z)(s.sel_province,s.sel_crop,O),V=F.cropcalendar,q=F.cropStages,H=F.loading,B=(0,G.Z)(s.sel_province,s.sel_municipality),U=B.days,J=B.loading,X=B.warning;(0,o.useEffect)((function(){U.length>0&&f((0,z.Z)(U,"tenday"))}),[U]),(0,o.useEffect)((function(){if(U.length>0&&!H&&!I){var e=new Date(U[0].label_full),t=(0,K.Mn)(e);if(0!==V.length){var n=V.data1.find((function(e){return e.municipality===s.sel_municipality&&e.crop===s.sel_crop})),r=V.data2.find((function(e){return e.municipality===s.sel_municipality&&e.crop===s.sel_crop})),i=[];if(n&&r&&Object.keys(q).length>0){Object.keys(t).forEach((function(e){var a=n[e].split(",");t[e].forEach((function(e){"1st_half"===e&&"none"!==a[0]?i.includes(a[0])||i.push(a[0]):"2nd_half"===e&&"none"!==a[1]&&(i.includes(a[1])||i.push(a[1]))}));var o=r[e].split(",");t[e].forEach((function(e){"1st_half"===e&&"none"!==o[0]?i.includes(o[0])||i.push(o[0]):"2nd_half"===e&&"none"!==o[1]&&(i.includes(o[1])||i.push(o[1]))}))}));var a=i.map((function(e,t){return{id:t,label:q[e].label,code:e}}));S(a)}}}}),[q,V.length,V.data1,V.data2,U,s.sel_municipality,s.sel_crop,H,I]),(0,o.useEffect)((function(){return k.current=!0,function(){k.current=!1}}),[]),(0,o.useEffect)((function(){i.length>0&&j((0,u.m)(i))}),[i]),(0,o.useEffect)((function(){P(J||I||H)}),[J,I,H]);var Y=function(e,t){var n=t.from,r=t.label;if(v.length>0&&g([]),Object.keys(t).includes("id"))switch(n){case"province":S([]),b(null),c(ee({},te,{sel_province:r}));break;case"municipality":S([]),c(ee({},s,{sel_municipality:r,sel_crop:null,sel_day:null,sel_month:null,sel_stage:null,sel_activity:null}));break;case"day":S([]),b(U.find((function(e){return e.label===r}))),c(ee({},s,{sel_day:t,sel_month:null,sel_crop:null,sel_stage:null,sel_activity:null}));break;case"crop":S([]),c(ee({},s,{sel_crop:r,sel_month:null,sel_stage:null,sel_activity:null}));break;case"cropstage":c(ee({},s,{sel_stage:t,sel_activity:null}));break;case"activity":g(D.filter((function(e){return e.crop_stage===s.sel_stage.code&&e.farming_activity===r}))),c(ee({},s,{sel_activity:r}))}else"province"===n?(c(te),S([])):"municipality"===n?(c(ee({},s,{sel_municipality:null,sel_crop:null,sel_day:null,sel_month:null,sel_stage:null,sel_activity:null})),S([])):"day"===n?(c(ee({},s,{sel_day:null,sel_crop:null,sel_month:null,sel_stage:null,sel_activity:null})),S([])):"crop"===n?(c(ee({},s,{sel_crop:null,sel_month:null,sel_stage:null,sel_activity:null})),S([])):"cropstage"===n?c(ee({},s,{sel_stage:null,sel_activity:null})):"activity"===n&&c(ee({},s,{sel_activity:null}))};return(0,a.jsx)($,{climateRisk:p.label,optsprovinces:_,optsmunicipalities:A,optscrops:E,optsdays:U,optscropstages:O,optsactivities:T,sel_options:s,recommendations:v,weathertoday:y,loading:C,warning:X,onSelectItemChange:Y,onClickDateSelector:function(e){var t=new Date(e).toDateString();t=t.substring(0,t.length-5),Y(null,{id:t,label:t,full:new Date(e),from:"day"})},onResetClick:function(){c(te),S([]),g([])}})};var re=function(e){var t=e.municipalities,n=void 0===t?[]:t,r=e.provinces,i=void 0===r?[]:r;return(0,a.jsxs)("div",{children:[(0,a.jsx)(s.Z,{sx:{boxShadow:"none"}}),(0,a.jsx)("div",{id:"seasonal-recommendations"}),(0,a.jsx)(s.Z,{sx:{marginTop:"80px",boxShadow:"none"},children:(0,a.jsx)(B,{municipalities:n,provinces:i})}),(0,a.jsx)("div",{id:"tenday-recommendations"}),(0,a.jsx)(s.Z,{sx:{marginTop:"80px",boxShadow:"none"},children:(0,a.jsx)(ne,{provinces:i})})]})},ie=n(9008);function ae(e,t,n,r,i,a,o){try{var l=e[a](o),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(r,i)}var oe=!0,le=function(e){e=null!==e?e:function(e){throw e}(new TypeError("Cannot destructure undefined"));var t=(0,o.useState)([]),n=t[0],r=t[1];return(0,o.useEffect)((function(){var e=function(){var e,t=(e=i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,l.$m)();case 3:t=e.sent,r(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){ae(a,r,i,o,l,"next",e)}function l(e){ae(a,r,i,o,l,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}();e()}),[]),(0,a.jsxs)("div",{children:[(0,a.jsxs)(ie.default,{children:[(0,a.jsx)("title",{children:"Agro-Climatic Advisory Portal - Caraga (ACAP-Caraga)"}),(0,a.jsx)("meta",{name:"description",content:"A one-stop-hub for the creation and dissemination of agro-climatic advisories using crop decision trees tailored to specific stages and farming activities of agricultural commodities"}),(0,a.jsx)("meta",{property:"og:url",content:"https://acap-caraga.github.io"}),(0,a.jsx)("meta",{property:"og:type",content:"website"}),(0,a.jsx)("meta",{property:"og:title",content:"Agro-Climatic Advisory Portal - Caraga (ACAP-Caraga)"}),(0,a.jsx)("meta",{property:"og:description",content:"A one-stop-hub for the creation and dissemination of agro-climatic advisories using crop decision trees tailored to specific stages and farming activities of agricultural commodities"}),(0,a.jsx)("meta",{property:"og:image",content:"https://firebasestorage.googleapis.com/v0/b/acap-caraga-prodd.appspot.com/o/Assets%2Fog_home_1200.png?alt=media&token=dffacafc-038f-4dd6-b549-00da5f2afb79"}),(0,a.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,a.jsx)("meta",{property:"twitter:domain",content:"acap-caraga.github.io"}),(0,a.jsx)("meta",{property:"twitter:url",content:"https://acap-caraga.github.io"}),(0,a.jsx)("meta",{name:"twitter:title",content:"Agro-Climatic Advisory Portal - Caraga (ACAP-Caraga)"}),(0,a.jsx)("meta",{name:"twitter:description",content:"A one-stop-hub for the creation and dissemination of agro-climatic advisories using crop decision trees tailored to specific stages and farming activities of agricultural commodities"}),(0,a.jsx)("meta",{name:"twitter:image",content:"https://firebasestorage.googleapis.com/v0/b/acap-caraga-prodd.appspot.com/o/Assets%2Fog_home_1200.png?alt=media&token=dffacafc-038f-4dd6-b549-00da5f2afb79"})]}),(0,a.jsx)(re,{provinces:n})]})}},23766:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(67294);function i(e,t){var n=(0,r.useState)([]),i=n[0],a=n[1];return(0,r.useEffect)((function(){var n,r;a(e&&t&&null!==(r=null===(n=t.find((function(t){return t.label===e})))||void 0===n?void 0:n.municipalities)&&void 0!==r?r:[])}),[e,t]),i}},87682:function(e,t,n){"use strict";n.d(t,{ky:function(){return m},Kx:function(){return v},m$:function(){return g},tl:function(){return h}});var r=n(34051),i=n.n(r),a=n(67294),o=n(36100),l=n(25441);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n,r,i,a,o){try{var l=e[a](o),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){c(a,r,i,o,l,"next",e)}function l(e){c(a,r,i,o,l,"throw",e)}o(void 0)}))}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){d(e,t,n[t])}))}return e}function f(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){var n=(0,a.useState)(null),r=n[0],s=n[1],c=(0,a.useState)(!0),d=c[0],p=c[1],f=(0,a.useState)(""),m=f[0],v=f[1],g=(0,a.useRef)(!0);return(0,a.useEffect)((function(){var n=function(){var n=u(i().mark((function n(){var r,a;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=(0,o.JU)(l.db,e,t),n.next=4,(0,o.QT)(r);case 4:a=n.sent,g.current&&(a.exists()&&s(a.data()),p(!1)),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),v(n.t0.message),p(!1);case 12:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(){return n.apply(this,arguments)}}();return n(),function(){return g.current=!1}}),[e,t]),[r,d,m]}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=(0,a.useState)([]),c=s[0],d=s[1],m=(0,a.useState)(!0),v=m[0],g=m[1],h=(0,a.useState)(""),y=h[0],b=h[1],x=(0,a.useRef)(!0);return(0,a.useEffect)((function(){var a=function(){var a=u(i().mark((function a(){var s,c,u,m;return i().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,s=[(0,o.Xo)(t,"asc")],r>0&&s.push((0,o.b9)(r)),c=(0,o.hJ)(l.db,e),u=n||o.IO.apply(void 0,[c].concat(f(s))),i.next=7,(0,o.PL)(u);case 7:m=i.sent,x.current&&(d(m.docs.map((function(e){return p({},e.data())}))),g(!1)),i.next=15;break;case 11:i.prev=11,i.t0=i.catch(0),b(i.t0.message),g(!1);case 15:case"end":return i.stop()}}),a,null,[[0,11]])})));return function(){return a.apply(this,arguments)}}();return a(),function(){return x.current=!1}}),[e,t,n,r]),{documents:c,loading:v,error:y}}function g(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=(0,a.useState)([]),c=s[0],d=s[1],f=(0,a.useState)(!0),m=f[0],v=f[1],g=(0,a.useState)(""),h=g[0],y=g[1],b=(0,a.useRef)(!0);return(0,a.useEffect)((function(){var a=function(){var a=u(i().mark((function a(){var s,c;return i().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,s=(0,o.IO)((0,o.hJ)(l.db,e,t,n),(0,o.Xo)(r)),i.next=4,(0,o.PL)(s);case 4:c=i.sent,b.current&&(d(c.docs.map((function(e){return p({},e.data())}))),v(!1)),i.next=12;break;case 8:i.prev=8,i.t0=i.catch(0),y(i.t0.message),v(!1);case 12:case"end":return i.stop()}}),a,null,[[0,8]])})));return function(){return a.apply(this,arguments)}}();return a(),function(){return b.current=!1}}),[e,t,n,r]),{documents:c,loading:m,error:h}}function h(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=arguments.length>4?arguments[4]:void 0,c=(0,a.useState)([]),d=c[0],f=c[1],m=(0,a.useState)(!0),v=m[0],g=m[1],h=(0,a.useState)(""),y=h[0],b=h[1],x=(0,a.useRef)(!0);return(0,a.useEffect)((function(){var a=function(){var a=u(i().mark((function a(){var c,u;return i().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,c=(0,o.hJ)(l.db,e,t,n),""!==r&&(c=(0,o.IO)(c,(0,o.Xo)(r))),s&&(c=(0,o.IO)(c,(0,o.b9)(s))),i.next=6,(0,o.PL)(c);case 6:u=i.sent,x.current&&(f(u.docs.map((function(e){return p({},e.data())}))),g(!1)),i.next=14;break;case 10:i.prev=10,i.t0=i.catch(0),b(i.t0.message),g(!1);case 14:case"end":return i.stop()}}),a,null,[[0,10]])})));return function(){return a.apply(this,arguments)}}();return a(),function(){return x.current=!1}}),[e,t,n,r,s]),{documents:d,loading:v,error:y}}},94640:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(67294),i=n(9473),a=n(47426),o=n(56867),l=n(77715),s=n(901);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){var n=(0,r.useState)([]),c=n[0],d=n[1],p=(0,r.useState)(null),f=p[0],m=p[1],v=(0,r.useState)(""),g=v[0],h=v[1],y=(0,r.useState)(""),b=y[0],x=y[1],_=(0,r.useState)(!1),j=_[0],w=_[1],O=(0,i.I0)(),S=(0,i.v9)((function(e){return e.tendayweather})),Z=S.ids,C=S.status,P=S.entities,k=S.error;return(0,r.useEffect)((function(){null!==e&&(h(""),x(""),O((0,o.R)(e)))}),[e,O]),(0,r.useEffect)((function(){h(k)}),[k]),(0,r.useEffect)((function(){w(C===s.G.PENDING)}),[C]),(0,r.useEffect)((function(){if(h(""),x(""),C===s.G.FULLFILLED&&Z.length>0&&""===k&&null!==t){var e=Object.values(P).find((function(e){return e.municipality===t}));if(void 0!==e){var n,r,i=JSON.parse(e.data),o=Object.values(a.MW);d(i.reduce((function(e,t,a){var s,c,d;return u(e).concat([{id:a,label:t.day_format,label_full:null===(s=(0,l.Ay)(t.day_format,i[9].day_format))||void 0===s?void 0:s.toDateString(),rainfall:t.rainfall,forecast:null!==(n=null===(c=o.find((function(e){return e.tenday===t.rainfall})))||void 0===c?void 0:c.sync)&&void 0!==n?n:"-",code:null!==(r=null===(d=o.find((function(e){return e.tenday===t.rainfall})))||void 0===d?void 0:d.label)&&void 0!==r?r:"-"}])}),[]));var c=new Date(1e3*i[0].date_start.seconds),p=(0,l.Mn)(c);c.getFullYear()!==(new Date).getFullYear()&&h("Invalid year detected in the 10-day validity date range: ".concat(i[0].date_range)),m({months:p,date_start:c,date_range:i[0].date_range})}else{var f=k||"Weather data for the municipality is not available at the moment, however, you can continue viewing recommendations. Please verify that the municipality name is present in the 10-Day weather forecast.";k?(d([]),m(null),h(f)):x(f)}}}),[t,P,Z,C,k]),{days:c,summary:f,loading:j,error:g,warning:b}}}},function(e){e.O(0,[5778,1709,9964,1903,6295,9547,2044,1855,9774,2888,179],(function(){return t=67741,e(e.s=t);var t}));var t=e.O();_N_E=t}]);