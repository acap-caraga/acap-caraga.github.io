(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8943],{17903:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/superadmin/login",function(){return e(28188)}])},84846:function(n,t,e){"use strict";e.d(t,{Z:function(){return O}});var r=e(34051),o=e.n(r),i=e(85893),a=e(67294),c=e(11163),u=e(63835),s=e(47426),l=e(11057),p=e(87357),f=e(61903),g=e(20719),d=e(15861),m={container:{width:"100%",display:"grid",minHeight:"50vh",placeItems:"center"},loginContainer:{width:{xs:"100%",sm:"400px"},display:"flex",flexDirection:"column",textAlign:"center",padding:function(n){return n.spacing(1)},"& .MuiTextField-root, button":{marginTop:function(n){return n.spacing(2)}},"& h5":{marginBottom:function(n){return n.spacing(2)}},"& svg":{fontSize:"45px",margin:"auto",marginBottom:"8px"}},btnContainer:{display:"flex",gap:3,"& button":{flexGrow:1}}},v=e(25675),x=function(n){var t=n.src,e=n.width,r=n.quality;return"".concat(t,"?w=").concat(e,"&q=").concat(r||75)};var h=function(n){var t=n.loading,e=n.hasUser,r=n.state,o=n.onInputChange,a=n.onInputClick,c=n.onBtnClick;return(0,i.jsxs)("div",{children:[t&&(0,i.jsx)(g.Z,{}),!t&&!e&&(0,i.jsx)(p.Z,{sx:m.container,id:"bacap-login",children:(0,i.jsxs)(p.Z,{component:"form",noValidate:!0,autoComplete:"off",sx:m.loginContainer,children:[(0,i.jsx)(p.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"20px"},children:(0,i.jsx)(v.default,{loader:x,src:"/AMIA-Logo-FBPNG11.png",alt:"Logo",width:100,height:100,onDragStart:function(n){n.preventDefault()}})}),(0,i.jsxs)(d.Z,{variant:"h5",children:[(0,i.jsx)("br",{}),"Login with ",(0,i.jsx)("b",{children:"ACAP Caraga"})]}),(0,i.jsx)(f.Z,{error:""!==r.error,id:"email",label:"Email",variant:"outlined",value:r.email,onChange:o,onClick:a}),(0,i.jsx)(f.Z,{error:""!==r.error,id:"password",label:"Password",type:"password",variant:"outlined",value:r.password,onChange:o,onClick:a,helperText:r.error}),(0,i.jsx)(l.Z,{variant:"contained",size:"large",onClick:c,children:"Log in"})]})})]})};function j(n,t,e,r,o,i,a){try{var c=n[i](a),u=c.value}catch(s){return void e(s)}c.done?t(u):Promise.resolve(u).then(r,o)}function w(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function a(n){j(i,r,o,a,c,"next",n)}function c(n){j(i,r,o,a,c,"throw",n)}a(void 0)}))}}function y(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function b(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{},r=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})))),r.forEach((function(t){y(n,t,e[t])}))}return n}var C={email:"",password:"",error:""};var O=function(n){var t=n.accLevel,e=void 0===t?2:t,r=n.loginTitle,l=void 0===r?"":r,p=(0,a.useState)(C),f=p[0],g=p[1],d=(0,u.aC)(),m=(0,c.useRouter)();(0,a.useEffect)((function(){if(d.user&&!d.loading&&""===d.error){var n=e===s.DW.ADMIN?"/admin":"/superadmin";d.user.accountlevel===e?m.push(n):(d.logOut(),g((function(n){return b({},n,{error:"Unauthorized account level."})})))}}),[d,e,m]),(0,a.useEffect)((function(){""!==d.error&&g((function(n){return b({},n,{error:d.error})}))}),[d.error]);var v=function(){var n=w(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,d.signIn({email:f.email,password:f.password});case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),g((function(t){return b({},t,{error:(0,u.Z)(n.t0.message)})}));case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(){return n.apply(this,arguments)}}(),x=function(){var n=w(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.logOut();case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,i.jsx)(h,{loading:d.loading,hasUser:d.user,state:f,loginTitle:l,onInputChange:function(n){var t=n.target,e=t.id,r=t.value;g((function(n){return b({},n,y({},e,r))})),""!==f.error&&g(b({},f,{error:""}))},onInputClick:function(n){g((function(t){var e;return b({},t,(y(e={},n.target.id,""),y(e,"error",""),e))}))},onBtnClick:v,onBtnLogoutClick:x})}},43370:function(n,t,e){"use strict";var r=e(85893),o=e(9008),i=e(47426);t.Z=function(n){var t=n.title,e=n.ogDescription,a=n.ogImageURL,c=n.ogImgAlt,u=void 0===c?"Picture":c,s=n.ogSiteName,l=void 0===s?"ACAP-".concat(i.Gt.toUpperCase()):s,p=n.ogURL;return(0,r.jsxs)(o.default,{children:[(0,r.jsx)("meta",{name:"description",content:e}),(0,r.jsx)("meta",{name:"og:description",content:e}),(0,r.jsx)("meta",{property:"og:title",content:t}),(0,r.jsx)("meta",{property:"og:site_name",content:l}),(0,r.jsx)("meta",{property:"og:image",content:a}),(0,r.jsx)("meta",{property:"og:image:width",content:"600"}),(0,r.jsx)("meta",{property:"og:image:height",content:"315"}),(0,r.jsx)("meta",{property:"og:image:alt",content:u}),(0,r.jsx)("meta",{property:"og:url",content:p}),(0,r.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,r.jsx)("meta",{name:"twitter:title",content:t}),(0,r.jsx)("meta",{name:"twitter:image",content:a}),(0,r.jsx)("title",{children:t})]})}},20719:function(n,t,e){"use strict";e.d(t,{Z:function(){return l}});var r=e(85893),o=e(87357),i=e(98456),a=e(15861),c={container:{width:"100%",backgroundColor:"#fff",minHeight:"50vh",display:"grid",placeItems:"center"},loading:{display:"flex",justifyContent:"center",alignItems:"center"}};function u(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function s(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{},r=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})))),r.forEach((function(t){u(n,t,e[t])}))}return n}var l=function(n){var t=n.sx;return(0,r.jsx)(o.Z,{sx:s({},c.container,t&&s({},t)),children:(0,r.jsxs)(o.Z,{sx:c.loading,children:[(0,r.jsx)(a.Z,{variant:"subtitle1",children:"Loading..."}),(0,r.jsx)(i.Z,{size:"32px"})]})})}},28188:function(n,t,e){"use strict";e.r(t),e.d(t,{__N_SSG:function(){return c}});var r=e(85893),o=e(47426),i=e(84846),a=e(43370);var c=!0;t.default=function(n){var t=n.media;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.Z,{title:"Agro-Climatic Advisory Portal - ".concat(o.Gt," (ACAP-").concat(o.Gt.toUpperCase(),") Superadmin Login"),ogDescription:t.description,ogImageURL:t.url,ogURL:t.path}),(0,r.jsx)(i.Z,{loginTitle:"Superadmin",accLevel:o.DW.SUPERADMIN})]})}}},function(n){n.O(0,[6284,3351,9964,1903,2395,9774,2888,179],(function(){return t=17903,n(n.s=t);var t}));var t=n.O();_N_E=t}]);