(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4511],{27840:function(e,n,t){"use strict";var i=t(85893),r=t(15861);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var o=(0,t(11496).ZP)((function(e){return(0,i.jsx)(r.Z,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},i=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),i.forEach((function(n){a(e,n,t[n])}))}return e}({component:"p",variant:"caption"},e))}))((function(e){var n=e.theme;return{color:n.palette.text.secondary,"& a":{color:n.palette.green.dark,textDecoration:"none"},"& a:visited":{color:n.palette.green.dark},"& a:hover, span:hover":{textDecoration:"underline"}}}));n.Z=o},44511:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return _e}});var i=t(34051),r=t.n(i),a=t(85893),o=t(9669),l=t.n(o),c=t(67294),s=t(9473),u=t(4936),p=t(98396),d=t(60795),f=t(86105),x=t(38303),h=t(72471),m=t(27409),g=t(97651),b=t(45243),v=t.n(b),y=t(87357),j=t(99108),w=t.n(j),S=t(25675);var _=function(e){var n=e.record,t=e.firebaseLoader,i=e.customMarkerIcon,r=(0,c.useState)(null),o=r[0],l=r[1],s=(0,c.useState)(null),u=s[0],p=s[1];return(0,c.useEffect)((function(){l(null!==n?[n.lat,n.lon]:null),p(n)}),[n]),null===o?null:(0,a.jsx)(m.J,{position:o,icon:i,eventHandlers:{mouseover:function(){l(null)},click:function(){l(null)}},children:(0,a.jsx)(g.u,{className:w().tooltipCustom,permanent:!0,children:(0,a.jsx)("table",{style:{width:"100%"},children:(0,a.jsxs)("tbody",{children:[(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:"2",children:(0,a.jsx)(S.default,{src:u.imageUrl,alt:"".concat(u.barangay," image"),width:231,height:160,layout:"responsive",loader:t})})}),(0,a.jsx)("tr",{children:(0,a.jsxs)("td",{children:[(0,a.jsx)("b",{children:"Barangay: "}),u.barangay]})}),(0,a.jsx)("tr",{children:(0,a.jsxs)("td",{children:[(0,a.jsx)("b",{children:"Municipality: "}),u.municipality]})}),(0,a.jsx)("tr",{children:(0,a.jsxs)("td",{children:[(0,a.jsx)("b",{children:"Province: "}),u.province]})}),(0,a.jsx)("tr",{children:(0,a.jsxs)("td",{children:[(0,a.jsx)("b",{children:"Association: "}),u.association]})})]})})})})},k=[{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",name:"Street Map",attribution:""},{url:"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",name:"Topography Map",attribution:""},{url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",name:"Light",attribution:""},{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/terrain/{z}/{x}/{y}{r}.png",name:"Terrain Map",attribution:""},{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.jpg",name:"Watercolor",attribution:""},{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",name:"Satellite Map",attribution:""},{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/{z}/{y}/{x}",name:"Shaded Relief",attribution:""},{url:"https://server.arcgisonline.com/ArcGIS/rest/services/Ocean_Basemap/MapServer/tile/{z}/{y}/{x}",name:"Ocean",attribution:""}],O={map:{width:"100%",height:"calc(100vh - 88px - 519px)",maxWidth:function(e){return e.breakpoints.xl}}},C=t(47426),L=t(41664),Z=t(76295),z=t(66242),M=t(98456),P=t(86886),I=t(61903),W=t(15861),D={daily:{width:{xs:"76px",sm:"66px"},minWidth:{xs:"76px",sm:"66px"},minHeight:"88px",display:"flex",flexDirection:"column",justifyContent:"space-between",backgroundColor:"rgba(237, 237, 237, 0.50)",padding:function(e){return e.spacing(1)},margin:"2px",borderRadius:"5px","& div":{textAlign:"center"},"& .temp-label":{display:"flex",justifyContent:"space-between",fontSize:{xs:"8px",sm:"9px"}},"& .daily-date":{fontSize:{xs:"10px",sm:"9px"}}},mobileSmall:{width:"90px",height:"120px",display:"flex",flexDirection:"column",justifyContent:"space-between",backgroundColor:"rgba(237, 237, 237, 0.50)",padding:function(e){return e.spacing(1)},margin:"12px",borderRadius:"10px","& div":{textAlign:"center"},"& .temp-label":{display:"flex",justifyContent:"space-between",fontSize:{xs:"11px",sm:"10px"},fontFamily:"Lucida Sans"},"& .daily-date":{fontSize:{xs:"13px",sm:"11px"},fontWeight:500}},mobileMedium:{width:"113px",height:"120px",display:"flex",flexDirection:"column",justifyContent:"space-between",backgroundColor:"rgba(237, 237, 237, 0.50)",padding:function(e){return e.spacing(1)},margin:"12px",borderRadius:"10px","& div":{textAlign:"center"},"& .temp-label":{display:"flex",justifyContent:"space-between",fontSize:{xs:"11px",sm:"10px"},fontFamily:"Lucida Sans"},"& .daily-date":{fontSize:{xs:"13px",sm:"11px"},fontWeight:500}},mobileLarge:{width:"90px",height:"120px",display:"flex",flexDirection:"column",justifyContent:"space-between",backgroundColor:"rgba(237, 237, 237, 0.50)",padding:function(e){return e.spacing(1)},margin:"12px",borderRadius:"10px","& div":{textAlign:"center"},"& .temp-label":{display:"flex",justifyContent:"space-between",fontSize:{xs:"11px",sm:"10px"},fontFamily:"Lucida Sans"},"& .daily-date":{fontSize:{xs:"13px",sm:"11px"},fontWeight:500}}},E=t(26660),A=t(48038),N=t(63365);var R=function(e){var n=e.dailyweather,t=(0,p.Z)("(max-width: 356px)"),i=(0,p.Z)("(min-width: 357px) and (max-width: 424px)"),r=(0,p.Z)("(min-width: 396px) and (max-width: 480px)"),o=t||i||r?45:25;return(0,a.jsxs)(y.Z,{sx:t?D.mobileSmall:i?D.mobileMedium:r?D.mobileLarge:D.daily,children:[(0,a.jsx)("div",{className:"daily-date",children:n.day}),(0,a.jsx)("div",{children:(0,a.jsx)(S.default,{unoptimized:!0,src:n.icon,height:o,width:o,loader:E.imageLoader,alt:n.day})}),(0,a.jsxs)("div",{className:"temp-label",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(N.Z,{fontSize:"12px"}),(0,a.jsxs)("strong",{children:[n.temp_mean,"\xb0"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(A.Z,{fontSize:"12px"}),n.wind_speed]})]})]})},T=t(27840);var F,U,H,Y={card:{backgroundColor:"rgba(255, 255, 255, 0.85)",boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px !important",minWidth:{xs:"200px",sm:"385px"},maxWidth:"385px",marginTop:function(e){return e.spacing(3)},padding:function(e){return e.spacing(2)},borderRadius:function(e){return e.spacing(1)},"& h5":{marginBottom:function(e){return e.spacing(2)},fontSize:"18px"},"& h6":{fontSize:"16px"},"& .span-source":{"& a":{color:function(e){return e.palette.primary.main},textDecoration:"none"},"& a:hover":{color:function(e){return e.palette.third.main}}}},cardInfo:{backgroundColor:"rgba(255, 255, 255, 0.85)",boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px !important",width:"100%",maxWidth:"490px",padding:function(e){return e.spacing(1)},marginTop:function(e){return e.spacing(3)},fontSize:{xs:"11px",sm:"14px"},"& td":{padding:(F={xs:0},U="xs",H="1px",U in F?Object.defineProperty(F,U,{value:H,enumerable:!0,configurable:!0,writable:!0}):F[U]=H,F)}},autocomplete:{maxWidth:"100%",marginTop:function(e){return e.spacing(1)}},weathertoday:{width:"100%",display:"flex",justifyContent:"flex-start",alignItems:"center",gap:"10px",flexDirection:{xs:"row",b4xs:"row",sm:"row"},"& .icon-temp":{display:"flex",alignItems:"center",gap:"10px"},"& .temperature":{fontSize:"30px",fontWeight:"bold"},"& .weather-details":{paddingTop:"15px",marginLeft:"16px",fontSize:"10px"}},info:{minWidth:"285px",minHeight:"90px",padding:function(e){return e.spacing(2)},marginTop:function(e){return e.spacing(2)},textAlign:"center","& p":{color:"red",fontSize:"12px"}}},B=t(901);function G(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function J(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},i=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),i.forEach((function(n){G(e,n,t[n])}))}return e}var Q=function(e){var n=e.sel_options,t=e.weather,i=e.forecast,r=e.isSmallScreen,o=void 0!==r&&r,l=e.onSelectItemChange,u=(0,c.useState)(0),d=u[0],f=u[1],x=(0,s.v9)((function(e){return e.provinces})),h=(0,s.v9)((function(e){return e.municipalities})),m=(0,s.v9)((function(e){return e.tendayweather})),g=(0,c.useState)(!0),b=g[0],v=g[1],j=(0,p.Z)("(max-width:480px)");(0,c.useEffect)((function(){var e=function(){return f((window.innerWidth-w())/2+24)};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]);var w=function(){var e=document.getElementById("header-contents");return e?e.getBoundingClientRect().width:1200};return(0,c.useEffect)((function(){var e=x.status!==B.G.FULLFILLED||m.status!==B.G.FULLFILLED;v(e)}),[x.status,m.status,x.error,m.error]),(0,a.jsxs)(y.Z,{sx:{position:j?"static":"absolute",top:function(e){return e.constants.navbar.outerHeight-35},right:d,marginLeft:"24px",zIndex:400,overflow:"auto",marginRight:"24px",paddingBottom:"24px"},className:"mui-fixed",children:[(0,a.jsxs)(z.Z,{variant:"outlined",sx:Y.card,style:{backgroundColor:"rgba(255, 255, 255, 0.85)"},children:[(0,a.jsxs)(y.Z,{children:[(0,a.jsx)(W.Z,{variant:"h6",style:{fontWeight:600,marginBottom:"20px"},children:"Caraga Region Weather Today"}),(0,a.jsx)(Z.Z,{disablePortal:!0,id:"province",value:x.province,disabled:0===x.ids.length||b,options:Object.values(x.entities),size:"small",renderInput:function(e){return(0,a.jsx)(I.Z,J({},e,{label:null===x.province?"Select a province":"Province"}))},isOptionEqualToValue:function(e,n){return e.label===n.label},onChange:function(e,n){return l(e,J({},n,{from:"province"}))}}),(0,a.jsx)("br",{}),(0,a.jsx)(Z.Z,{disablePortal:!0,id:"municipality",value:h.municipality,disabled:0===h.ids.length||b,options:Object.values(h.entities),size:"small",renderInput:function(e){return(0,a.jsx)(I.Z,J({},e,{label:null===h.municipality?"Select a municipality":"Municipality"}))},isOptionEqualToValue:function(e,n){return e.label===n.label},getOptionDisabled:function(e){return void 0!==e.iscalendar},onChange:function(e,n){return l(e,J({},n,{from:"municipality",province:x.province}))}})]}),n.loading&&(0,a.jsx)(y.Z,{sx:Y.info,style:{minWidth:o?window.innerWidth-80:"285px"},children:(0,a.jsx)(M.Z,{size:24,color:"secondary"})}),""===n.error&&!n.loading&&null!==n.sel_municipality&&""!==t.description&&(0,a.jsxs)(y.Z,{sx:Y.weathertoday,children:[(0,a.jsxs)("div",{className:"icon-temp",children:[(0,a.jsx)(S.default,{unoptimized:!0,src:t.icon,height:70,width:70,loader:E.imageLoader,alt:t.description}),(0,a.jsxs)("div",{className:"temperature",children:[t.temp,"\xb0C"]})]}),(0,a.jsxs)("div",{className:"weather-details",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{style:{fontWeight:500,fontSize:"14px",fontFamily:"revert",color:"#000"},children:t.datenow})," "]}),(0,a.jsxs)("div",{children:["Humidity: ",t.humidity]}),(0,a.jsxs)("div",{children:["Wind speed: ",t.wind]}),(0,a.jsx)("div",{children:t.description?"".concat(t.description.charAt(0).toUpperCase()).concat(t.description.slice(1)):""})]})]}),""===n.error&&!n.loading&&null===n.sel_municipality&&(0,a.jsx)(y.Z,{sx:Y.info,style:{minWidth:o?window.innerWidth-80:"285px"},children:(0,a.jsx)("p",{children:"\xa0"})}),""!==n.error&&(0,a.jsx)(y.Z,{sx:Y.info,style:{minWidth:o?window.innerWidth-80:"285px"},children:(0,a.jsx)("p",{children:n.error})})]}),i.length>0&&(0,a.jsxs)(z.Z,{variant:"outlined",sx:Y.card,style:{marginTop:"10px",paddingBottom:"2px"},children:[(0,a.jsx)(W.Z,{variant:"h6",children:"10-Day Rainfall Forecast"}),(0,a.jsxs)(T.Z,{sx:{marginBottom:"16px",fontSize:"11px"},children:["View the full 10-Day Weather Forecast"," ",(0,a.jsx)(L.default,{href:"/weather-services",children:"here"}),"."]}),(0,a.jsx)(P.ZP,{container:!0,children:i.map((function(e,n){return(0,a.jsx)(P.ZP,{item:!0,children:(0,a.jsx)(R,{dailyweather:e})},"daily-".concat(n))}))}),(0,a.jsxs)(W.Z,{variant:"caption",style:{fontSize:"10px"},className:"span-source",children:["source:"," ",(0,a.jsx)(L.default,{href:"https://www.pagasa.dost.gov.ph/climate/climate-prediction/10-day-climate-forecast",children:"PAGASA's 10-Day Climate Forecast"})]})]})]})},q=t(18217),V=t(23549),X=t(56867),K=t(1902);function $(e,n,t,i,r,a,o){try{var l=e[a](o),c=l.value}catch(s){return void t(s)}l.done?n(c):Promise.resolve(c).then(i,r)}function ee(e){return function(){var n=this,t=arguments;return new Promise((function(i,r){var a=e.apply(n,t);function o(e){$(a,i,r,o,l,"next",e)}function l(e){$(a,i,r,o,l,"throw",e)}o(void 0)}))}}function ne(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function te(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},i=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),i.forEach((function(n){ne(e,n,t[n])}))}return e}var ie={sel_municipality:null,sel_province:"",loading:!0,error:""},re={icon:"https://openweathermap.org/img/wn/10d@2x.png",temp:"00",pressure:"0000 hPa",humidity:"0%",wind:"00 meter/sec"};var ae=function(e){var n=e.record,t=e.isSmallScreen,i=e.onSelectMunicipality,o=(0,c.useState)(ie),l=o[0],u=o[1],p=(0,c.useState)(re),d=p[0],f=p[1],x=(0,c.useState)([]),h=x[0],m=x[1],g=(0,c.useState)(!1),b=g[0],v=g[1],y=(0,s.I0)(),j=(0,s.v9)((function(e){return e.provinces})),w=j.ids,S=j.entities,_=j.municipalities,k=j.province,O=(0,s.v9)((function(e){return e.municipalities})).municipality,C=(0,s.v9)((function(e){return e.tendayweather})),L=C.ids,Z=C.entities,z=C.status;(0,c.useEffect)((function(){y((0,q.QA)(null))}),[y]),(0,c.useEffect)((function(){w.length>0&&(y((0,V.Wn)(Object.values(S)[0])),y((0,X.R)(Object.values(S)[0].label)).unwrap().then((function(){v(!0)})))}),[y,w,S]),(0,c.useEffect)((function(){if(L.length>0&&z===B.G.FULLFILLED&&b&&null!==k){var e=null;if(O)e=O;else{var n=Object.keys(_).find((function(e){return e===k.label}));n&&_[n].length>0&&(e=_[n][0])}y((0,q.X4)(_[k.label]||[])),y((0,q.QA)(e))}}),[y,L,Z,z,b,O,_,k]),(0,c.useEffect)((function(){null!==O&&b&&u((function(e){return te({},e,{sel_province:k,sel_municipality:O})}))}),[y,O,k,Z,z,b]),(0,c.useEffect)((function(){if(z===B.G.FULLFILLED&&null!==l.sel_municipality&&0===h.length)try{i(l.sel_municipality.label,l.sel_province.label);var e=Object.values(Z).find((function(e){return e.municipality===l.sel_municipality.label}));if(e){var n=JSON.parse(e.data),t=(new Date).toDateString(),r=n.find((function(e){return e.day_format===t.substring(0,t.length-5)}))||n[0],a={icon:void 0!==K.Sx.rainfall[r.rainfall]?"images/icons/weather/".concat(K.Sx.rainfall[r.rainfall]):"images/icons/weather/blank_weather.png",temp:Math.round(r.tmean),precipitation:null,humidity:"".concat(I(r.humidity),"%"),datenow:t,wind:"".concat(I(r.wspeed)," mps"),description:"".concat(W(r.rainfall),", ").concat(W(r.cover))},o=[];n.forEach((function(e){var n=new Date("".concat(e.day_format,", ").concat((new Date).getFullYear())),t={day:e.day_format,wind_speed:I(e.wspeed),temp_mean:I(e.tmean),icon:void 0!==e.rainfall?"images/icons/weather/".concat(K.Sx.rainfall[e.rainfall]):"images/icons/weather/blank_weather.png",date:n.toLocaleDateString("en-US"),description:""};o.push(t)})),f(a),m(o),u((function(e){return te({},e,{loading:!1,error:""})}))}}catch(c){u((function(e){return te({},e,{loading:!1,error:c.message})}))}}),[z,Z,S,h,l.sel_municipality,l.sel_province.label,i]);var M=(0,c.useCallback)(function(){var e=ee(r().mark((function e(n,t){var i,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=_[t.label],void 0!==(a=i.find((function(e){return e.label===n})))){e.next=4;break}return e.abrupt("return");case 4:m([]),u(te({},l,{sel_municipality:a,sel_province:t,loading:!0,error:""})),y((0,X.R)(t.label));case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),[_,l,y]),P=function(){var e=ee(r().mark((function e(n,t){var a,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.label,o=t.from,!a){e.next=21;break}e.t0=o,e.next="province"===e.t0?5:"municipality"===e.t0?9:18;break;case 5:return y((0,V.Wn)(t)),y((0,X.R)(a)),y((0,q.X4)([])),e.abrupt("break",19);case 9:if(y((0,q.QA)({id:t.id,label:t.label,iscalendar:t.iscalendar})),void 0!==t.id){e.next=16;break}return u(te({},l,{sel_municipality:null,loading:!1})),f(re),m([]),i(null),e.abrupt("return");case 16:return M(t.label,null===t||void 0===t?void 0:t.province),e.abrupt("break",19);case 18:return e.abrupt("break",19);case 19:e.next=30;break;case 21:e.t1=o,e.next="province"===e.t1?24:"municipality"===e.t1?27:29;break;case 24:return y((0,V.jg)()),y((0,q.X4)([])),e.abrupt("break",30);case 27:return y((0,q.QA)(null)),e.abrupt("break",30);case 29:return e.abrupt("break",30);case 30:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),I=function(e){return Math.round(100*(e+Number.EPSILON))/100},W=function(e){return e.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()})).join(" ")};return(0,a.jsx)(Q,{sel_options:l,weather:d,forecast:h,record:n,isSmallScreen:t,onSelectItemChange:P})},oe=t(45697),le=t.n(oe),ce=t(70917),se=t(11496),ue=t(66720),pe=t(47036),de=t(39005),fe=(0,se.ZP)("div")((function(){return{backgroundColor:pe.Z[100]}})),xe=(0,se.ZP)("div")((function(){return{backgroundColor:"#fff"}})),he=(0,se.ZP)("div")((function(){return{width:50,height:6,backgroundColor:pe.Z[300],borderRadius:3,position:"absolute",top:20,left:"calc(50% - 15px)"}}));function me(e,n){var t=e.record,i=e.isSmallScreen,r=e.onSelectMunicipality,o=n.window,l=(0,c.useState)(!1),s=l[0],u=l[1],p=function(e){return function(){u(e)}},d=void 0!==o?function(){return o().document.body}:void 0;return(0,a.jsxs)(fe,{children:[(0,a.jsx)(ue.ZP,{}),(0,a.jsx)(ce.xB,{styles:{".MuiDrawer-root > .MuiPaper-root":{height:"calc(85% - ".concat(100,"px)"),overflow:"visible",background:"ff"}}}),(0,a.jsxs)(de.Z,{container:d,anchor:"bottom",open:s,onClose:p(!1),onOpen:p(!0),onClick:p(!0),swipeAreaWidth:100,disableSwipeToOpen:!1,ModalProps:{keepMounted:!0},children:[(0,a.jsxs)(xe,{sx:{position:"absolute",top:-100,borderTopLeftRadius:20,borderTopRightRadius:20,visibility:"visible",right:0,left:0,backgroundColor:"#ff",height:"200px"},children:[(0,a.jsx)(he,{}),(0,a.jsx)(W.Z,{variant:"h6",sx:{pt:5,fontWeight:600,fontSize:"17px"},align:"center",children:"Today's Weather & 10-Day Forecast"})]}),(0,a.jsx)(ae,{record:t,isSmallScreen:i,onSelectMunicipality:r})]})]})}me.propTypes={window:le().func};var ge=me;function be(e,n,t,i,r,a,o){try{var l=e[a](o),c=l.value}catch(s){return void t(s)}l.done?n(c):Promise.resolve(c).then(i,r)}var ve=C.XH.split(","),ye={lat:ve[0],lng:ve[1]},je=["Image","Barangay","Municipality","Province","Association"],we=new(v().Icon)({iconUrl:"https://firebasestorage.googleapis.com/v0/b/acap-caraga-dev.appspot.com/o/marker.svg?alt=media&token=be340150-598b-4ae0-9ce2-503beb6b0487",iconSize:[43,50],iconAnchor:[16,32]}),Se=function(e){var n=e.src,t=e.width,i=e.quality;return"".concat(n,"?w=").concat(t,"&q=").concat(i||75)};var _e=function(e){var n=e.data,t=void 0===n?{villages:[],provincesMunicipalities:[]}:n,i=(0,c.useState)({}),o=i[0],b=i[1],v=(0,c.useState)(""),j=v[0],C=v[1],L=(0,c.useState)(null),Z=L[0],z=L[1],M=(0,c.useRef)(null),P=(0,p.Z)((function(e){return e.breakpoints.down("md")})),I=(0,p.Z)("(max-width:480px)"),W=(0,s.v9)((function(e){return e.provinces.ids})),D=(0,c.useRef)(null),E=(0,s.I0)();(0,c.useEffect)((function(){null===D.current&&0===W.length&&(D.current=!0,E((0,u.Q)()))}),[E,W.length]),(0,c.useEffect)((function(){var e=function(){var e,n=(e=r().mark((function e(){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,l().get("https://firebasestorage.googleapis.com/v0/b/acap-caraga-prodd.appspot.com/o/Map%2Fprovdists-region-1600000000.0.01.json?alt=media&token=c0ba8be4-2a1f-4ee0-b273-e75afb436c33");case 4:n=e.sent,b(n.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var n=this,t=arguments;return new Promise((function(i,r){var a=e.apply(n,t);function o(e){be(a,i,r,o,l,"next",e)}function l(e){be(a,i,r,o,l,"throw",e)}o(void 0)}))});return function(){return n.apply(this,arguments)}}();e()}),[]);var A=function(e,n){if(null===e&&null===n)C(""),z(null);else{var i=t.villages.find((function(t){return t.municipality===e&&t.province===n}));if(void 0!==i){var r=i.province;C((function(e){return r})),z(i),function(e,n){var t=M.current;t&&t.flyTo([e,n+4],10,{duration:2.5})}(i.lat,i.lon)}else C(""),z(null)}};return(0,a.jsxs)(y.Z,{sx:O.map,style:{minHeight:P?"1300px":"600px"},children:[(0,a.jsxs)(d.h,{style:{height:"100%"},center:ye,zoom:8,maxZoom:12,minZoom:8,tileSize:512,placeholder:(0,a.jsx)("h3",{children:"You need JavaScript to render this app."}),whenCreated:function(e){M.current=e},children:[(0,a.jsx)(f.et,{position:"topleft",children:k.map((function(e,n){return(0,a.jsx)(f.et.BaseLayer,{name:e.name,checked:0===n,children:(0,a.jsx)(x.I,{zIndex:0,attribution:e.attribution,url:e.url})},"map-".concat(n))}))}),(0,a.jsx)(h.Q,{municipality:j,data:o.features,zIndex:1,onEachFeature:function(e,n){n.setStyle(function(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}({fillColor:e.properties.ADM2_EN===j?"#ff6a00":"#ffa666",fillOpacity:1,weight:0},"fillOpacity","0.5"))}},Math.random().toString(36).substring(2,8)),t.villages.map((function(e,n){return(0,a.jsx)(m.J,{position:[e.lat,e.lon],icon:we,eventHandlers:{mouseover:function(e){null!==Z&&z(null)},click:function(e){null!==Z&&z(null)}},children:(0,a.jsx)(g.u,{className:w().labelTooltip,direction:"center",permanent:!0,offset:[7,20],children:(0,a.jsx)("span",{children:e.barangay})})},n)})),t.villages.map((function(e,n){return(0,a.jsx)(m.J,{position:[e.lat,e.lon],icon:we,eventHandlers:{mouseover:function(e){null!==Z&&z(null)},click:function(e){null!==Z&&z(null)}},children:(0,a.jsx)(g.u,{className:w().tooltipCustom,direction:"left",children:(0,a.jsx)("table",{style:{width:"100%"},id:"tip-".concat(n),children:(0,a.jsx)("tbody",{children:je.map((function(n,t){return["lat","lon"].includes(n)?(0,a.jsx)("tr",{},t):"Image"!==n?(0,a.jsx)("tr",{children:(0,a.jsxs)("td",{children:[(0,a.jsxs)("b",{children:[n,":"]})," ",e[n.toLowerCase()]]})},t):(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:"2",children:(0,a.jsx)(S.default,{src:e.imageUrl,alt:"".concat(e.barangay," image"),width:500,height:300,layout:"responsive",loader:Se})})},t)}))})})})},n)})),(0,a.jsx)(_,{record:Z,firebaseLoader:Se,customMarkerIcon:we})]}),I?(0,a.jsx)(ge,{record:Z,isSmallScreen:P,onSelectMunicipality:A}):(0,a.jsx)(ae,{record:Z,isSmallScreen:P,onSelectMunicipality:A})]})}},1902:function(e,n,t){"use strict";t.d(n,{J4:function(){return i},Y1:function(){return r},Sx:function(){return a}});var i=[{icon:"cc_sunny_49.svg",label:"No rain",nowrap:!0},{icon:"rainfall_light_rain_49.svg",label:"Light rain"},{icon:"rainfall_moderate_rain_49.svg",label:"Moderate rain"},{icon:"rainfall_heavy_rain_49.svg",label:"Heavy rain"},{icon:"blank_weather.png",label:"Heavy rain",hidden:!0}],r=[{icon:"cc_sunny_49.svg",label:"Sunny"},{icon:"cc_mostly_sunny_49.svg",label:"Mostly sunny"},{icon:"cc_partly_cloudy_49.svg",label:"Partly cloudy"},{icon:"cc_mostly_cloudy_49.svg",label:"Mostly cloudy"},{icon:"cc_cloudy_49.svg",label:"Cloudy"}],a={rainfall:{"NO RAIN":"cc_sunny_49.svg","LIGHT RAINS":"rainfall_light_rain_49.svg","MODERATE RAINS":"rainfall_moderate_rain_49.svg","HEAVY RAINS":"rainfall_heavy_rain_49.svg"},cloudCover:{SUNNY:"cc_sunny_49.svg","MOSTLY SUNNY":"cc_mostly_sunny_49.svg","PARTLY CLOUDY":"cc_partly_cloudy_49.svg","MOSTLY CLOUDY":"cc_mostly_cloudy_49.svg",CLOUDY:"cc_cloudy_49.svg"}}},99108:function(e){e.exports={tooltipCustom:"Map_tooltipCustom___IYju",labelTooltip:"Map_labelTooltip__e0whJ"}}}]);