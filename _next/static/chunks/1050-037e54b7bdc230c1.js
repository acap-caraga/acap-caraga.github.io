"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1050],{95243:function(n,e,t){var r=t(34051),i=t.n(r),o=t(85893),a=t(67294),l=t(11163),s=t(63835),c=t(47426);function u(n,e,t,r,i,o,a){try{var l=n[o](a),s=l.value}catch(c){return void t(c)}l.done?e(s):Promise.resolve(s).then(r,i)}function d(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}e.Z=function(n){var e=function(e){var t=(0,s.aC)(),r=(0,l.useRouter)();(0,a.useEffect)((function(){if(!t.loading&&!t.user){var n=r.pathname.includes("/superadmin")?"/superadmin/login":"/admin/login";r.push(n)}t.user&&(t.user.accountlevel===c.DW.ADMIN&&r.pathname.includes("/superadmin")&&r.push("/unauthorized"),t.user.accountlevel===c.DW.SUPERADMIN&&r.pathname.includes("/admin")&&r.push("/unauthorized"))}),[t.user,t.loading,r]);var f=function(){var n,e=(n=i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.logOut();case 3:n.next=7;break;case 5:n.prev=5,n.t0=n.catch(0);case 7:case"end":return n.stop()}}),n,null,[[0,5]])})),function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function a(n){u(o,r,i,a,l,"next",n)}function l(n){u(o,r,i,a,l,"throw",n)}a(void 0)}))});return function(){return e.apply(this,arguments)}}();return(0,o.jsx)(n,function(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){d(n,e,t[e])}))}return n}({},e,{loading:t.loading,user:t.user,onBtnLogoutClick:f}))};return e.customLayout=!0,e.adminPage=!0,e}},66383:function(n,e,t){t.d(e,{Z:function(){return _}});var r=t(85893),i=t(87357),o=t(67294),a=t(42293),l=t(66720),s=t(27948),c=t(67720),u=t(77533),d=t(93946),f=t(78462),p=t(48885),x=t(59334),m=t(98619),h=t(10155),g=t(41664),b=t(11163),j=t(47426),y=t(97520),v=t(9662),k=t(326),Z=t(93384),w=t(79903),S=t(11898),P=t(94229),C=t(7427),O=t(24617),M=t(4602),A=[{text:"Get Started",link:"/admin",icon:(0,r.jsx)(Z.Z,{})},{text:"ACAP Settings",link:"/admin/weather",icon:(0,r.jsx)(P.Z,{})},{text:"Generate Bulletin",link:"/admin/bulletins/commodities",icon:(0,r.jsx)(S.Z,{})},{text:"SMS Management",link:"/admin/sms",icon:(0,r.jsx)(w.Z,{})},{text:"Agricultural Calendars",link:"/admin/agricultural-calendars",icon:(0,r.jsx)(O.Z,{})},{text:"Manage Recommendations",link:"/admin/manage-recommendations",icon:(0,r.jsx)(M.Z,{})}],D=[{text:"Profile",link:"/admin/profile",icon:(0,r.jsx)(C.Z,{})}],I=t(16851),L=[{text:"Get Started",link:"/superadmin",icon:(0,r.jsx)(Z.Z,{})},{text:"Users",link:"/superadmin/users",icon:(0,r.jsx)(I.Z,{})}],z=[{text:"Profile",link:"/superadmin/profile",icon:(0,r.jsx)(C.Z,{})}],N=t(41796),W={profileToolbar:{fontSize:"14px"},toolbar:{display:"flex",justifyContent:"space-between"},logout:{cursor:"pointer"},list:{padding:function(n){return n.spacing(1)},"& a":{textDecoration:"none",color:"rgba(0, 0, 0, 0.87)"},"& .MuiListItemButton-root:hover":{backgroundColor:function(n){return n.palette.primary.light}},"& .Mui-selected":{backgroundColor:function(n){return"".concat((0,N.Fq)(n.palette.primary.light,.3)," !important")}},"& .listitembutton-styled":{py:0,minHeight:48,color:function(n){return n.palette.primary.dark},borderRadius:function(n){return n.spacing(1)},margin:function(n){return n.spacing(1)},"&:hover, &:focus":{"& .MuiTypography-root":{color:function(n){return n.palette.primary.main}}},"& a":{color:function(n){return n.palette.primary.dark}}},"& .MuiListItemIcon-root":{marginRight:"-8px"}},listitem:{"& a":{textDecoration:"none"}}};function E(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function T(n){return function(n){if(Array.isArray(n))return E(n)}(n)||function(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,e){if(!n)return;if("string"===typeof n)return E(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return E(n,e)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var B=280,R=[{text:"ACAP Website",link:"/",icon:(0,r.jsx)(y.Z,{})},{text:"Logout",link:"#",icon:(0,r.jsx)(v.Z,{})}];function H(n){var e=n.window,t=(0,o.useState)(!1),y=t[0],v=t[1],Z=(0,o.useState)(null),w=Z[0],S=Z[1],P=(0,b.useRouter)(),C=n.user,O=n.onBtnLogoutClick,M=(0,o.useMemo)((function(){if(C)return C.accountlevel===j.DW.ADMIN?A:L}),[C]),I=(0,o.useMemo)((function(){if(C)return T(C.accountlevel===j.DW.ADMIN?D:z).concat(T(R))}),[C]);(0,o.useEffect)((function(){if((null===P||void 0===P?void 0:P.route)&&M&&I){var n=T(M).concat(T(I)).find((function(n){return n.link===P.route}));S(null===n||void 0===n?void 0:n.link)}}),[n.user.accountlevel,P.route,M,I]);var N=function(){v(!y)},E=(0,r.jsxs)("div",{children:[(0,r.jsx)(h.Z,{}),(0,r.jsx)(c.Z,{}),(0,r.jsx)(f.Z,{sx:W.list,disablePadding:!0,children:M.map((function(n){return(0,r.jsx)(g.default,{href:n.link,passHref:!0,children:(0,r.jsxs)(m.Z,{className:"listitembutton-styled",selected:w===n.link,children:[(0,r.jsx)(p.Z,{sx:{color:"inherit"},children:n.icon}),(0,r.jsx)(x.Z,{primaryTypographyProps:{fontSize:14,fontWeight:"medium"},children:(0,r.jsx)("a",{href:n.link,children:n.text})})]},n.label)},n.link)}))}),(0,r.jsx)(c.Z,{}),(0,r.jsx)(f.Z,{sx:W.list,children:I.map((function(n,e){return"Logout"===n.text?(0,r.jsx)(g.default,{href:n.link,passHref:!0,children:(0,r.jsxs)(m.Z,{className:"listitembutton-styled",selected:w===n.link,onClick:O,children:[(0,r.jsx)(p.Z,{sx:{color:"inherit"},children:n.icon}),(0,r.jsx)(x.Z,{primary:n.text,primaryTypographyProps:{fontSize:14,fontWeight:"medium"}})]})},n.link):(0,r.jsx)(g.default,{href:n.link,passHref:!0,children:(0,r.jsxs)(m.Z,{className:"listitembutton-styled",selected:w===n.link,children:[(0,r.jsx)(p.Z,{sx:{color:"inherit"},children:n.icon}),(0,r.jsx)(x.Z,{primaryTypographyProps:{fontSize:14,fontWeight:"medium"},children:(0,r.jsx)("a",{href:n.link,children:n.text})})]})},e)}))})]}),H=void 0!==e?function(){return e().document.body}:void 0;return(0,r.jsxs)(i.Z,{sx:{display:"flex"},children:[(0,r.jsx)(l.ZP,{}),(0,r.jsx)(a.Z,{position:"fixed",sx:{width:{sm:"calc(100% - ".concat(B,"px)")},ml:{sm:"".concat(B,"px")}},children:(0,r.jsxs)(h.Z,{sx:W.toolbar,children:[(0,r.jsx)("div",{children:(0,r.jsx)(d.Z,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:N,sx:{mr:2,display:{sm:"none"}},children:(0,r.jsx)(k.Z,{})})}),(0,r.jsxs)(i.Z,{sx:W.profileToolbar,children:["Kumusta, ",C.name,"!"]})]})}),(0,r.jsxs)(i.Z,{component:"nav",sx:{width:{sm:B},flexShrink:{sm:0}},"aria-label":"mailbox folders",children:[(0,r.jsx)(u.ZP,{container:H,variant:"temporary",open:y,onClose:N,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:B}},children:E}),(0,r.jsx)(u.ZP,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:B,boxShadow:"0px 0px 20px rgb(1 41 112 / 10%)",color:"#444444",border:"none",backgroundColor:"#fff"}},open:!0,children:E})]}),(0,r.jsxs)(i.Z,{component:"main",sx:{flexGrow:1,padding:{xs:"16px 0 0 0",sm:"24px 24px 24px 24px"},width:{sm:"calc(100% - ".concat(B,"px)")}},children:[(0,r.jsx)(h.Z,{}),(0,r.jsx)(s.Z,{maxWidth:"lg",children:n.children})]})]})}var G=t(20719);var _=function(n){return(0,r.jsxs)(i.Z,{sx:{marginTop:function(n){return n.spacing(4)}},children:[n.loading&&(0,r.jsx)(G.Z,{}),!n.loading&&n.user&&n.user.accountlevel===n.accLevel&&(0,r.jsx)(H,{user:n.user,onBtnLogoutClick:n.onBtnLogoutClick,children:n.children})]})}},20719:function(n,e,t){t.d(e,{Z:function(){return u}});var r=t(85893),i=t(87357),o=t(98456),a=t(15861),l={container:{width:"100%",backgroundColor:"#fff",minHeight:"50vh",display:"grid",placeItems:"center"},loading:{display:"flex",justifyContent:"center",alignItems:"center"}};function s(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function c(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){s(n,e,t[e])}))}return n}var u=function(n){var e=n.sx;return(0,r.jsx)(i.Z,{sx:c({},l.container,e&&c({},e)),children:(0,r.jsxs)(i.Z,{sx:l.loading,children:[(0,r.jsx)(a.Z,{variant:"subtitle1",children:"Loading..."}),(0,r.jsx)(o.Z,{size:"32px"})]})})}}}]);